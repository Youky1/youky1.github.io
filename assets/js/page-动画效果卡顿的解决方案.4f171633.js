(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{630:function(t,e,r){"use strict";r.r(e);var a=r(1),s=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"动画效果卡顿的解决方案"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动画效果卡顿的解决方案"}},[t._v("#")]),t._v(" 动画效果卡顿的解决方案")]),t._v(" "),e("h2",{attrs:{id:"_1-js-层面的优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-js-层面的优化"}},[t._v("#")]),t._v(" 1. JS 层面的优化")]),t._v(" "),e("h3",{attrs:{id:"使用-requestanimationframe-代替-settimeout-和-setinterval"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-requestanimationframe-代替-settimeout-和-setinterval"}},[t._v("#")]),t._v(" 使用 "),e("code",[t._v("requestAnimationFrame")]),t._v(" 代替 "),e("code",[t._v("setTimeout")]),t._v(" 和 "),e("code",[t._v("setInterval")])]),t._v(" "),e("p",[t._v("由于 JS 是单线程的，定时器操作并不能一定保证执行的时间节点。可能会出现一帧中重复执行导致重绘或在一帧结束时执行导致掉帧。")]),t._v(" "),e("p",[t._v("使用"),e("code",[t._v("window.requestAnimationFrame")]),t._v("，其接受的参数为下一次重绘前要执行的动画效果函数。特点：")]),t._v(" "),e("ul",[e("li",[t._v("执行次数会和浏览器屏幕刷新率相匹配")]),t._v(" "),e("li",[t._v("当页面隐藏或最小化时，不会执行")])]),t._v(" "),e("h3",{attrs:{id:"将-dom-无关的操作放到-web-worker-中"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#将-dom-无关的操作放到-web-worker-中"}},[t._v("#")]),t._v(" 将 DOM 无关的操作放到 web worker 中")]),t._v(" "),e("p",[e("code",[t._v("Web Worker")]),t._v(" 为 JS 创建了多线程环境，worker 线程在后台运行，受主线程控制，两者互不干扰。")]),t._v(" "),e("p",[t._v("将和 UI 无关的任务交给 web worker，可提高主线程的执行效率。如数据获取、数据处理、数据上报等。")]),t._v(" "),e("h2",{attrs:{id:"_2-css-层面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-css-层面"}},[t._v("#")]),t._v(" 2. CSS 层面")]),t._v(" "),e("ol",[e("li",[t._v("降低选择器的复杂度")]),t._v(" "),e("li",[t._v("使用 GPU 加速（transform、opacity）")])]),t._v(" "),e("h2",{attrs:{id:"_3-其他"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-其他"}},[t._v("#")]),t._v(" 3. 其他")]),t._v(" "),e("ol",[e("li",[t._v("避免频繁触发重绘")]),t._v(" "),e("li",[t._v("使用 flex 布局代替浮动布局（浮动元素之间相互影响，布局所用时间较长）、绝对定位（每个元素需要唯一的定位坐标）")]),t._v(" "),e("li",[t._v("避免强制同步布局（对 DOM 属性的先写后读，连续读写操作）")])])])}),[],!1,null,null,null);e.default=s.exports}}]);