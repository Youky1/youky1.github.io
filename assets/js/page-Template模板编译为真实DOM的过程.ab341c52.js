(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{609:function(t,e,a){"use strict";a.r(e);var r=a(1),s=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"template模板编译为真实dom的过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#template模板编译为真实dom的过程"}},[t._v("#")]),t._v(" Template模板编译为真实DOM的过程")]),t._v(" "),e("h2",{attrs:{id:"_1-parse"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-parse"}},[t._v("#")]),t._v(" 1. parse")]),t._v(" "),e("p",[t._v("用正则的方式解析模板，得到模板中的标签、指令、class等数据，生成AST。")]),t._v(" "),e("p",[t._v("在这个过程中：")]),t._v(" "),e("ul",[e("li",[t._v("会用一个栈存放已解析的开始标签。\n"),e("ul",[e("li",[t._v("保持AST的层级关系")]),t._v(" "),e("li",[t._v("判断标签是否正确闭合")])])]),t._v(" "),e("li",[t._v("解析函数有四个钩子函数，分别对应：开始标签、结束标签、文本信息、注释信息。解析到对应内容时执行对应的钩子")])]),t._v(" "),e("h2",{attrs:{id:"_2-optimize"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-optimize"}},[t._v("#")]),t._v(" 2. optimize")]),t._v(" "),e("p",[t._v("标记静态节点，当后续update更新界面时，diff算法会直接跳过静态节点，达到优化性能的目的")]),t._v(" "),e("h2",{attrs:{id:"_3-generate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-generate"}},[t._v("#")]),t._v(" 3. generate")]),t._v(" "),e("p",[t._v("将AST转换为渲染虚拟DOM所需要的"),e("code",[t._v("render function")]),t._v("字符串")])])}),[],!1,null,null,null);e.default=s.exports}}]);