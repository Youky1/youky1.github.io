(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{566:function(s,a,e){"use strict";e.r(a);var t=e(1),r=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"创建版本库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建版本库"}},[s._v("#")]),s._v(" 创建版本库")]),s._v(" "),a("ul",[a("li",[s._v("工作区：文件夹")]),s._v(" "),a("li",[s._v("暂存区：add 后的内容")]),s._v(" "),a("li",[s._v("版本库：commit 后的内容")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://www.liaoxuefeng.com/files/attachments/919020037470528/0",alt:"git-repo"}})]),s._v(" "),a("h2",{attrs:{id:"创建仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建仓库"}},[s._v("#")]),s._v(" 创建仓库")]),s._v(" "),a("p",[s._v("在某个目录下创建 Git 仓库")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git init\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"添加修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加修改"}},[s._v("#")]),s._v(" 添加修改")]),s._v(" "),a("p",[s._v("将工作区的内容添加到"),a("strong",[s._v("暂存区")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git add <fileName>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"提交修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#提交修改"}},[s._v("#")]),s._v(" 提交修改")]),s._v(" "),a("p",[s._v("将暂存区的内容提交到当前分支")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git commit <fileName> -m'描述信息'\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"追加提交"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#追加提交"}},[s._v("#")]),s._v(" 追加提交")]),s._v(" "),a("p",[s._v("**含义：**将这次的提交和上次的提交合并，只保留一次 commit 记录（commit 信息可以自己编辑）")]),s._v(" "),a("p",[s._v("**应用场景：**进行一次提交后，发现还有内容需要修改，但又不想多一次无用的 commit 信息")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git commit <fileName> --amend\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("此时会进行 vim 编辑界面，可以修改上一次的"),a("code",[s._v("commit message")]),s._v("。")]),s._v(" "),a("h3",{attrs:{id:"操作提交记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作提交记录"}},[s._v("#")]),s._v(" 操作提交记录")]),s._v(" "),a("p",[s._v("**含义：**对过去的若干个 commit 进行修改，可以进行的操作包括：")]),s._v(" "),a("ul",[a("li",[s._v("将多个 commit 合并")]),s._v(" "),a("li",[s._v("修改 commit 信息")]),s._v(" "),a("li",[s._v("删除某个更改")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git rebase -i <起始版本> [终点版本]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("是一个"),a("strong",[s._v("前开后闭区间")]),s._v("，即起始版本是不显示在操作界面的。终点版本缺省则表示 HEAD。")]),s._v(" "),a("p",[s._v("执行命令后会进行交互式界面，可以对每个 commit 做修改（修改这次提交前对应的字母），注释中列出了可用的操作方法：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("p")]),s._v("：保留这次提交")]),s._v(" "),a("li",[a("code",[s._v("r")]),s._v("：保留这次提交，但编辑它的 commit 信息")]),s._v(" "),a("li",[a("code",[s._v("s")]),s._v("：保留提交，但和上一次提交合并（只显示上一次的提交信息）。提交列表中的第一条"),a("strong",[s._v("不能向前合并")])]),s._v(" "),a("li",[a("code",[s._v("d")]),s._v("：丢弃这次提交")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("pick 171d248 update:第二次提交\npick 82ac586 update:第三次提交\n\n# Rebase 6feb8b0..171d248 onto 6feb8b0 (1 command)\n#\n# Commands:\n# p, pick <commit> = use commit\n# r, reword <commit> = use commit, but edit the commit message\n# e, edit <commit> = use commit, but stop for amending\n# s, squash <commit> = use commit, but meld into previous commit\n# f, fixup <commit> = like \"squash\", but discard this commit's log message\n# x, exec <command> = run command (the rest of the line) using shell\n# b, break = stop here (continue rebase later with 'git rebase --continue')\n# d, drop <commit> = remove commit\n# l, label <label> = label current HEAD with a name\n# t, reset <label> = reset HEAD to a label\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("blockquote",[a("p",[s._v("注：vim 的基本操作")])]),s._v(" "),a("ul",[a("li",[s._v("进入交互界面时按"),a("code",[s._v("i")]),s._v("进入编辑模式。编辑结束后按"),a("code",[s._v("Esc")]),s._v("键结束编辑")]),s._v(" "),a("li",[s._v("输入"),a("code",[s._v(":wq")]),s._v("保存并退出")])]),s._v(" "),a("h3",{attrs:{id:"commit-message-规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commit-message-规范"}},[s._v("#")]),s._v(" Commit Message 规范")]),s._v(" "),a("blockquote",[a("p",[s._v("此部分的参考")])]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://link.zhihu.com/?target=https%3A//www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("阮一峰网络日志"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/182553920",target:"_blank",rel:"noopener noreferrer"}},[s._v("阿里技术知乎专栏"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("严格来讲，提交描述信息分为三部分：Header、Body、Footer。不过一般来讲一个清晰的 Header 足矣。")]),s._v(" "),a("p",[s._v("Header 的格式如下：")]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("&lt;Type>([scope]): &lt;subject>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("Type")])]),s._v(" "),a("p",[s._v("描述更改的"),a("strong",[s._v("类型")]),s._v("，必须是以下几种：")]),s._v(" "),a("ul",[a("li",[s._v("feat：新功能（feature）")]),s._v(" "),a("li",[s._v("fix：修 bug")]),s._v(" "),a("li",[s._v("docs：文档")]),s._v(" "),a("li",[s._v("style：格式（不影响代码运行结果）")]),s._v(" "),a("li",[s._v("refactor：重构（不是修 bug 也不是新功能）")]),s._v(" "),a("li",[s._v("test：增加测试")]),s._v(" "),a("li",[s._v("chore：构建过程或辅助工具的变动")]),s._v(" "),a("li",[s._v("merge：代码合并")]),s._v(" "),a("li",[s._v("revert：回滚版本")]),s._v(" "),a("li",[s._v("build: 影响构建系统或外部依赖项的更改")])]),s._v(" "),a("p",[a("strong",[s._v("scope")])]),s._v(" "),a("p",[s._v("描述修改的影响"),a("strong",[s._v("范围")]),s._v("，比如数据层、控制层、视图层等等，视项目不同而不同")]),s._v(" "),a("p",[a("strong",[s._v("subject")])]),s._v(" "),a("p",[s._v("描述修改的"),a("strong",[s._v("目的")])]),s._v(" "),a("h1",{attrs:{id:"版本管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#版本管理"}},[s._v("#")]),s._v(" 版本管理")]),s._v(" "),a("h2",{attrs:{id:"查看仓库状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看仓库状态"}},[s._v("#")]),s._v(" 查看仓库状态")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git status\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("用于查看：")]),s._v(" "),a("ul",[a("li",[s._v("有哪些文件修改了还没有"),a("code",[s._v("add")])]),s._v(" "),a("li",[s._v("有哪些文件已经"),a("code",[s._v("add")]),s._v("，待提交"),a("code",[s._v("commit")])]),s._v(" "),a("li",[s._v("哪些文件是还没有被"),a("code",[s._v("add")]),s._v("的，也就是"),a("code",[s._v("Untracked files")])]),s._v(" "),a("li",[s._v("若所有修改都已提交，则会显示"),a("code",[s._v("nothing to commit, working tree clean")])])]),s._v(" "),a("h2",{attrs:{id:"查看修改内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看修改内容"}},[s._v("#")]),s._v(" 查看修改内容")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git diff\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("当内容进行了修改，还未"),a("code",[s._v("add")]),s._v("时，会输出此次修改的内容")]),s._v(" "),a("li",[s._v("如果仓库内没有修改但未"),a("code",[s._v("add")]),s._v("的内容，则输出为空")])]),s._v(" "),a("h2",{attrs:{id:"查看提交历史"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看提交历史"}},[s._v("#")]),s._v(" 查看提交历史")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git log [--pretty=oneline]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("会输出历史的所有提交，包括：")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("唯一的十六进制版本号")])]),s._v(" "),a("li",[a("strong",[s._v("commit message")])]),s._v(" "),a("li",[s._v("作者")]),s._v(" "),a("li",[s._v("提交日期")])]),s._v(" "),a("h2",{attrs:{id:"回溯版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#回溯版本"}},[s._v("#")]),s._v(" 回溯版本")]),s._v(" "),a("p",[a("strong",[s._v("回溯到某个特定版本")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git reset --hard <版本号>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("HEAD")]),s._v("表示当前版本，"),a("code",[s._v("HEAD^")]),s._v("表示上一个版本，依次类推，用"),a("code",[s._v("^")]),s._v("表示前一个版本")]),s._v(" "),a("li",[a("code",[s._v("HEAD~4")]),s._v("表示往上 4 个版本，等价于"),a("code",[s._v("HEAD^^^^")])]),s._v(" "),a("li",[s._v("版本号也可以是某次特定提交的版本号，则跳转到该版本。该方法"),a("strong",[s._v("可以向前或向后跳转")])])]),s._v(" "),a("h2",{attrs:{id:"查看历史操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看历史操作"}},[s._v("#")]),s._v(" 查看历史操作")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git reflog\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果使用"),a("code",[s._v("HEAD^")]),s._v("回退到了上一版本 B，同时又没有记录下原本的版本号 A，此时就无法直接通过版本号跳回版本 A")]),s._v(" "),a("p",[s._v("使用"),a("code",[s._v("git reflog")]),s._v("可以查看历史操作的所有命令，也就可以找到每次提交的版本号")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("275d57a (HEAD -> master) HEAD@{0}: reset: moving to 275d57afc3dafa331e3af\n62fc97d HEAD@{1}: reset: moving to HEAD^\n275d57a (HEAD -> master) HEAD@{2}: commit: change content\n62fc97d HEAD@{3}: commit (initial): init\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"丢弃工作区的修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#丢弃工作区的修改"}},[s._v("#")]),s._v(" 丢弃工作区的修改")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git checkout -- <fileName>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("若文件的修改还没有提交到暂存区，则恢复到版本库中的状态")]),s._v(" "),a("li",[s._v("若文件的修改提交到暂存区后，又做了修改，则恢复暂存区中的状态")])]),s._v(" "),a("p",[s._v("也就是，恢复到上一次"),a("code",[s._v("commit")]),s._v("后或"),a("code",[s._v("add")]),s._v("后的状态")]),s._v(" "),a("h2",{attrs:{id:"丢弃暂存区的修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#丢弃暂存区的修改"}},[s._v("#")]),s._v(" 丢弃暂存区的修改")]),s._v(" "),a("h3",{attrs:{id:"不丢弃工作区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不丢弃工作区"}},[s._v("#")]),s._v(" 不丢弃工作区")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset HEAD "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("fileName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("撤销已经 add 但还未 commit 的内容：")]),s._v(" "),a("ul",[a("li",[s._v("文件内容不会改变（工作区不变）")]),s._v(" "),a("li",[s._v("暂存区中丢弃已经 add 的内容，该部分成为"),a("code",[s._v("Unstaged changes")])])]),s._v(" "),a("h3",{attrs:{id:"同时丢弃工作区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#同时丢弃工作区"}},[s._v("#")]),s._v(" 同时丢弃工作区")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git reset --hard HEAD\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("HEAD 表示版本库中的当前版本，重置为当前版本即丢弃所有未提交到版本库的内容，包括工作区和暂存区")]),s._v(" "),a("h1",{attrs:{id:"分支管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分支管理"}},[s._v("#")]),s._v(" 分支管理")]),s._v(" "),a("h2",{attrs:{id:"查看分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看分支"}},[s._v("#")]),s._v(" 查看分支")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git branch\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"创建分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建分支"}},[s._v("#")]),s._v(" 创建分支")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git branch <分支名>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"删除分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除分支"}},[s._v("#")]),s._v(" 删除分支")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git branch -d <分支名>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"切换分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#切换分支"}},[s._v("#")]),s._v(" 切换分支")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git checkout [-b] <分支名>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("不带参数时，表示切换分支")]),s._v(" "),a("li",[s._v("带了"),a("code",[s._v("-b")]),s._v("参数时，表示创建新分支并切换到该分支，等价于：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git branch <分支名>\ngit checkout <分支名>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("为避免和撤销修改的 checkout 命令产生歧义，Git 提供了"),a("code",[s._v("switch")]),s._v("命令：")]),s._v(" "),a("p",[a("strong",[s._v("切换分支：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git switch <分支名>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("创建并切换：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git switch -c <分支名>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"合并某分支到当前分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合并某分支到当前分支"}},[s._v("#")]),s._v(" 合并某分支到当前分支")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git merge <另一分支名>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在 merge 之前如果修改了本分支的内容，必须先将修改 commit，否则会报错")]),s._v(" "),a("h3",{attrs:{id:"快速合并-fast-forward"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速合并-fast-forward"}},[s._v("#")]),s._v(" 快速合并（ "),a("code",[s._v("Fast-forward")]),s._v("）")]),s._v(" "),a("p",[s._v("当前分支的内容和另一分支没有产生冲突，则会进行快速合并。")]),s._v(" "),a("p",[s._v("如果希望保留分支合并的痕迹，则需要禁用快速合并，这样会在合并时产生一个新的 commit：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('git merge --no-ff -m "commit信息" <分支名>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("此次合并会创建一个新的 commit，因此需要用-m 参数传入 commit message")])]),s._v(" "),a("h3",{attrs:{id:"解决合并冲突"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决合并冲突"}},[s._v("#")]),s._v(" 解决合并冲突")]),s._v(" "),a("p",[s._v("合并到当前分支会产生冲突的情况，需要自己手动解决冲突（冲突内容是保留本分支内容还是另一分支）。")]),s._v(" "),a("p",[s._v("如，dev 分支内容为 123，切换到 master 分支后，内容修改为 456 并 commit，此时"),a("code",[s._v("git merge dev")])]),s._v(" "),a("p",[s._v("文件内容会变为：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<<<<<<< HEAD\n456\n=======\n123\n>>>>>>> dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("<<<<<<<")]),s._v("表示当前分支")]),s._v(" "),a("li",[a("code",[s._v("=======")]),s._v("用于分隔两个分支的内容")]),s._v(" "),a("li",[a("code",[s._v(">>>>>>")]),s._v("表示合并进来的分支")])]),s._v(" "),a("p",[s._v("手动处理冲突后（修改文本或是用编辑器的快捷处理），提交一个 commit，至此分支合并完成。")]),s._v(" "),a("h2",{attrs:{id:"分支管理思路"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分支管理思路"}},[s._v("#")]),s._v(" 分支管理思路")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("master")]),s._v("分支：应该是"),a("strong",[s._v("稳定的")]),s._v("，只用来发布版本，不用于开发")]),s._v(" "),a("li",[a("code",[s._v("dev")]),s._v("分支：用于开发，代码修改汇总到该分支，并在发布版本时将"),a("code",[s._v("dev")]),s._v("合并到"),a("code",[s._v("master")])]),s._v(" "),a("li",[s._v("个人分支：每个开发者应有自己的分支，完成自己一定的任务后，往 dev 分支进行合并")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://www.liaoxuefeng.com/files/attachments/919023260793600/0",alt:"git-br-policy"}})]),s._v(" "),a("h2",{attrs:{id:"bug-分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bug-分支"}},[s._v("#")]),s._v(" Bug 分支")]),s._v(" "),a("h3",{attrs:{id:"现场保存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#现场保存"}},[s._v("#")]),s._v(" 现场保存")]),s._v(" "),a("p",[s._v("当一个分支中的任务进行到一半时需要切换分支，可以"),a("strong",[s._v("临时保存工作区的修改：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git stash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("此时工作区的修改会被清空，可以进行分支切换。")]),s._v(" "),a("p",[a("strong",[s._v("查看保留的现场列表：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git stash list\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("当切回该分支，需要还原之前保留的现场时：")]),s._v(" "),a("ul",[a("li",[s._v("切回上一个现场（并删除保存记录）")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git stash pop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("切回某个特定现场（不会删除记录）")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git stash apply <记录编号>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("**注意："),a("strong",[s._v("使用 vscode 带的命令行或 Windows PowerShell 时可能会报一个")]),s._v("error unknown switch "),a("code",[s._v("e‘**的错误，原因是花括号在 PowerShell 中被认为是代码块执行标识符。可以用")]),s._v("对花括号进行转义。")]),s._v(" "),a("h3",{attrs:{id:"复制特定提交到当前分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#复制特定提交到当前分支"}},[s._v("#")]),s._v(" 复制特定提交到当前分支")]),s._v(" "),a("p",[s._v("**含义：**将一次提交的修改内容，而不是整个分支，合并到当前分支")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git cherry-pick <commit版本号>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果产生合并冲突，处理方式和分支合并时相同")]),s._v(" "),a("h2",{attrs:{id:"变基"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#变基"}},[s._v("#")]),s._v(" 变基")]),s._v(" "),a("p",[s._v("假设有两人 A 和 B 在对同一分支进行修改：")]),s._v(" "),a("ol",[a("li",[s._v("A、B 分别拉取 init 状态的仓库内容")]),s._v(" "),a("li",[s._v("B 首先完成了修改 change1、change2，并 push 到远程仓库")]),s._v(" "),a("li",[s._v("A 完成修改 change3，push 时会报错，因为已有他人对仓库进行了推送")]),s._v(" "),a("li",[s._v("此时 A 应先执行"),a("code",[s._v("git pull")]),s._v("，解决冲突后再提交一个 commit")])]),s._v(" "),a("p",[s._v("注意：此时的最新提交"),a("code",[s._v("Merge branch...")]),s._v("实际和 change3 的内容一样，因为")]),s._v(" "),a("p",[s._v("此时如直接 push，不会影响使用，但提交历史分叉了，影响美观。")]),s._v(" "),a("p",[s._v("此时执行变基：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git rebase\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("得到的结果即：将基于"),a("code",[s._v("init")]),s._v("状态而来的"),a("code",[s._v("change3")]),s._v("，改为基于"),a("code",[s._v("change2")]),s._v("而来，提交历史也就成为了一条直线")]),s._v(" "),a("h1",{attrs:{id:"远程仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#远程仓库"}},[s._v("#")]),s._v(" 远程仓库")]),s._v(" "),a("h2",{attrs:{id:"添加仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加仓库"}},[s._v("#")]),s._v(" 添加仓库")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git reomte add <仓库名称> <URL>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("仓库名称可以自定义，只是通常取为"),a("code",[s._v("origin")])]),s._v(" "),a("h2",{attrs:{id:"查看远程仓库情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看远程仓库情况"}},[s._v("#")]),s._v(" 查看远程仓库情况")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git remote -v\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"解除关联仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解除关联仓库"}},[s._v("#")]),s._v(" 解除关联仓库")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git remote rm <仓库名称>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("只是解除了关联，远程仓库本身并没有改动")]),s._v(" "),a("h2",{attrs:{id:"将本地内容推送至仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将本地内容推送至仓库"}},[s._v("#")]),s._v(" 将本地内容推送至仓库")]),s._v(" "),a("h3",{attrs:{id:"主分支推送"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主分支推送"}},[s._v("#")]),s._v(" 主分支推送")]),s._v(" "),a("p",[a("strong",[s._v("首次：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git push -u <仓库名称> master\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("参数"),a("code",[s._v("-u")]),s._v("会将本地的 master 分支和远程的 master 分支关联起来。后续可以简化命令。")]),s._v(" "),a("p",[a("strong",[s._v("后续：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git push\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"本地创建新的分支并推送到远程仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地创建新的分支并推送到远程仓库"}},[s._v("#")]),s._v(" 本地创建新的分支并推送到远程仓库")]),s._v(" "),a("ol",[a("li",[s._v("首先，创建并切换至新分支 dev")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git checkout -b dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[s._v("进行修改，并 commit")])]),s._v(" "),a("li",[a("p",[s._v("和远程仓库的分支进行绑定并提交")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git push --set-upstream origin dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"克隆远程仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#克隆远程仓库"}},[s._v("#")]),s._v(" 克隆远程仓库")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git clone <URL>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("只会拉取默认的"),a("code",[s._v("master")]),s._v("分支。")]),s._v(" "),a("p",[s._v("若需要拉取远程仓库的其他分支，则需要在本地创建对应的分支，并将其和远程分支关联：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git checkout -b <分支名> origin/<分支名>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h1",{attrs:{id:"标签管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#标签管理"}},[s._v("#")]),s._v(" 标签管理")]),s._v(" "),a("p",[s._v("**标签的意义：**是版本库的快照，指向某一次 commit 的指针。")]),s._v(" "),a("p",[s._v("**和版本号的区别：**版本号不便于分辨")]),s._v(" "),a("h2",{attrs:{id:"创建标签"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建标签"}},[s._v("#")]),s._v(" 创建标签")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git tag <标签名> [版本号]\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("省略版本号时，默认在最新一次提交上创建标签")]),s._v(" "),a("li",[s._v("提供版本号时，则在特定的提交上创建")])]),s._v(" "),a("h2",{attrs:{id:"查看标签"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看标签"}},[s._v("#")]),s._v(" 查看标签")]),s._v(" "),a("p",[a("strong",[s._v("查看所有标签：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git tag\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("不是按时间顺序列出，而是按字母排序 。")]),s._v(" "),a("p",[a("strong",[s._v("查看标签信息（也就是那次提交的信息）：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git show <标签名>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"推送标签"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#推送标签"}},[s._v("#")]),s._v(" 推送标签")]),s._v(" "),a("p",[s._v("创建的标签默认只存在本地，要提交到仓库可以执行：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git push origin <标签名>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("或提交所有标签：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git push origin --tags\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"删除标签"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除标签"}},[s._v("#")]),s._v(" 删除标签")]),s._v(" "),a("p",[a("strong",[s._v("删除本地标签：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git tag -d <标签名>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("删除远程仓库标签：")])]),s._v(" "),a("ul",[a("li",[s._v("首先删除本地标签")]),s._v(" "),a("li",[s._v("用 push 提交删除的修改")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git push origin :refs/tags/<标签名>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h1",{attrs:{id:"忽略特殊文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#忽略特殊文件"}},[s._v("#")]),s._v(" 忽略特殊文件")]),s._v(" "),a("p",[s._v("在仓库根目录下创建"),a("code",[s._v(".gitignore")]),s._v("文件，说明某些文件不会进行跟踪。")]),s._v(" "),a("ul",[a("li",[s._v("具体文件名：直接写文件名或目录名，")]),s._v(" "),a("li",[s._v("某一类文件名：\n"),a("ul",[a("li",[a("code",[s._v("*.class")]),s._v("：排除所有.class 文件")]),s._v(" "),a("li",[a("code",[s._v(".*")]),s._v("：排除所有.开头的文件")])])]),s._v(" "),a("li",[s._v("排除特殊文件（如忽略所有.开头的文件，但不忽略"),a("code",[s._v(".gitignore")]),s._v("）："),a("code",[s._v("!.gitignore")])])]),s._v(" "),a("p",[s._v("推荐参考：https://github.com/github/gitignore")])])}),[],!1,null,null,null);a.default=r.exports}}]);