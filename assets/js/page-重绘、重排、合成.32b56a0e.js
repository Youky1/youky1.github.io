(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{657:function(t,v,_){"use strict";_.r(v);var s=_(1),a=Object(s.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"重绘、重排、合成"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#重绘、重排、合成"}},[t._v("#")]),t._v(" 重绘、重排、合成")]),t._v(" "),v("h2",{attrs:{id:"重绘"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#重绘"}},[t._v("#")]),t._v(" 重绘")]),t._v(" "),v("p",[t._v("某个元素的文字颜色、背景颜色等，"),v("strong",[t._v("不影响元素周围或内部布局")]),t._v("的属性发生改变，会引起重绘")]),t._v(" "),v("h2",{attrs:{id:"重排-回流"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#重排-回流"}},[t._v("#")]),t._v(" 重排（回流）")]),t._v(" "),v("p",[t._v("某个 DOM 节点的尺寸、布局、隐藏等改变时，或读取 offset、scroll 属性时，浏览器重新渲染部分或全部 DOM 的过程。")]),t._v(" "),v("p",[v("strong",[t._v("重排必将引起重绘")]),t._v("，反之不然。")]),t._v(" "),v("h2",{attrs:{id:"合成-gpu-加速"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#合成-gpu-加速"}},[t._v("#")]),t._v(" 合成(GPU 加速)")]),t._v(" "),v("p",[t._v("利用 CSS3 的"),v("code",[t._v("transform")]),t._v("、"),v("code",[t._v("opacity")]),t._v("、"),v("code",[t._v("filter")]),t._v("(元素滤镜，将模糊或颜色偏移等图形效果应用于元素)等属性，会新建一个图层，可以直接实现合成的效果，也叫"),v("strong",[t._v("GPU 加速")]),t._v("。")]),t._v(" "),v("p",[t._v("这种情况下会直接跳过布局和绘制流程，直接交给"),v("code",[t._v("合成线程")]),t._v("开始合成图块。")]),t._v(" "),v("p",[t._v("好处：")]),t._v(" "),v("ul",[v("li",[t._v("充分利用了 GPU 资源")]),t._v(" "),v("li",[t._v("没有占用主线程的资源，即使主线程卡住了，效果依然能流畅运行")])]),t._v(" "),v("h2",{attrs:{id:"如何减少重排、重绘"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#如何减少重排、重绘"}},[t._v("#")]),t._v(" 如何减少重排、重绘")]),t._v(" "),v("h3",{attrs:{id:"css-中"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#css-中"}},[t._v("#")]),t._v(" CSS 中")]),t._v(" "),v("ul",[v("li",[t._v("尽可能在 DOM 树的末端改变 class")]),t._v(" "),v("li",[t._v("将动画效果加在"),v("code",[t._v("BFC元素")]),t._v("上，避免影响其他元素。")]),t._v(" "),v("li",[t._v("避免使用 table 布局（一个小改动会使整个 table 重新布局）")]),t._v(" "),v("li",[t._v("使用"),v("code",[t._v("visibility:0")]),t._v("（引起重绘）代替"),v("code",[t._v("display:none")]),t._v("（引起重排）")])]),t._v(" "),v("h3",{attrs:{id:"js-中"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#js-中"}},[t._v("#")]),t._v(" JS 中")]),t._v(" "),v("ul",[v("li",[t._v("避免频繁更改样式，对于多处更改最好一次性完成")]),t._v(" "),v("li",[t._v("避免频繁操作 DOM，创建一个容器元素，在其中完成所有 DOM 操作，再将其添加到文档")])])])}),[],!1,null,null,null);v.default=a.exports}}]);