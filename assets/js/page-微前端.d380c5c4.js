(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{625:function(v,_,t){"use strict";t.r(_);var r=t(1),s=Object(r.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"微前端"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#微前端"}},[v._v("#")]),v._v(" 微前端")]),v._v(" "),_("h2",{attrs:{id:"微前端和iframe的优劣对比"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#微前端和iframe的优劣对比"}},[v._v("#")]),v._v(" 微前端和iframe的优劣对比")]),v._v(" "),_("p",[_("strong",[v._v("优势")]),v._v("：")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("更好的性能")]),v._v("：可以"),_("strong",[v._v("按需加载")]),v._v("子应用，而 "),_("code",[v._v("iframe")]),v._v(" 每次加载都会创建新的进程。")]),v._v(" "),_("li",[_("strong",[v._v("更好的用户体验")]),v._v("：切换时不会重新加载整个页面")]),v._v(" "),_("li",[_("strong",[v._v("更方便的开发体验")]),v._v("： 子应用间可以共享 "),_("code",[v._v("localStorage")]),v._v("、"),_("code",[v._v("sessionStorage")])]),v._v(" "),_("li",[_("strong",[v._v("SEO友好")])])]),v._v(" "),_("p",[_("strong",[v._v("劣势")]),v._v("：")]),v._v(" "),_("ul",[_("li",[v._v("子应用间的上下文隔离不彻底")]),v._v(" "),_("li",[_("strong",[v._v("迁移成本高")]),v._v("，需要额外的适配")]),v._v(" "),_("li",[_("strong",[v._v("技术栈受限")])])]),v._v(" "),_("h2",{attrs:{id:"qiankun的沙箱隔离机制"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#qiankun的沙箱隔离机制"}},[v._v("#")]),v._v(" qiankun的沙箱隔离机制")]),v._v(" "),_("h3",{attrs:{id:"样式隔离"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#样式隔离"}},[v._v("#")]),v._v(" 样式隔离")]),v._v(" "),_("ul",[_("li",[v._v("动态样式隔离：qiankun 运行时会拦截子应用的 "),_("code",[v._v("style")]),v._v(" 和 "),_("code",[v._v("link")]),v._v(" 标签，并在子应用挂载时"),_("strong",[v._v("动态添加")]),v._v("，在卸载时"),_("strong",[v._v("移除")])]),v._v(" "),_("li",[_("code",[v._v("Shadow DOM")]),v._v(" ：通过 "),_("code",[v._v("Shadow DOM")]),v._v(" 创建一个"),_("strong",[v._v("独立的 DOM 作用域")]),v._v("，使子应用的 CSS 仅作用于自己的 DOM 结构")])]),v._v(" "),_("p",[_("code",[v._v("Shadow DOM")]),v._v(" 未默认开启，动态样式隔离"),_("strong",[v._v("不能完全")]),v._v("解决样式污染，因此默认情况下，是存在样式污染的问题的")]),v._v(" "),_("h3",{attrs:{id:"js-沙箱"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#js-沙箱"}},[v._v("#")]),v._v(" JS 沙箱")]),v._v(" "),_("p",[v._v("沙箱模式：")]),v._v(" "),_("ol",[_("li",[v._v("Proxy沙箱：通过Proxy代理 "),_("code",[v._v("window")]),v._v("，子应用的所有全局变量"),_("strong",[v._v("只能作用于自己的作用域")])]),v._v(" "),_("li",[v._v("快照沙箱： 在"),_("strong",[v._v("切换子应用时")]),v._v("，"),_("code",[v._v("qiankun")]),v._v(" 会"),_("strong",[v._v("保存当前全局变量的状态")]),v._v("，然后在子应用卸载后恢复之前的全局状态")])]),v._v(" "),_("p",[v._v("快照沙箱用于不支持Proxy的低版本浏览器，由于不是实时隔离，仍有变量污染的风险")])])}),[],!1,null,null,null);_.default=s.exports}}]);